<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Compose æ— éšœç¢å¼€å‘æŒ‡å—ï¼šSemantics ä¸å±å¹•é˜…è¯»å™¨ - Fidroid</title>
    <meta name="description" content="æ·±å…¥å­¦ä¹  Compose æ— éšœç¢å¼€å‘ï¼ŒæŒæ¡ Semantics APIã€TalkBack æ”¯æŒã€ç„¦ç‚¹ç®¡ç†ç­‰ï¼Œæ„å»ºå¯¹æ‰€æœ‰ç”¨æˆ·å‹å¥½çš„åº”ç”¨ã€‚">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; line-height: 1.8; color: #e5e7eb; background: #020617; }
        .navbar { background: rgba(15,23,42,0.98); backdrop-filter: blur(10px); position: fixed; top: 0; width: 100%; z-index: 1000; }
        .nav-container { max-width: 900px; margin: 0 auto; padding: 1rem 20px; display: flex; justify-content: space-between; align-items: center; }
        .logo { font-size: 1.5rem; font-weight: bold; color: #38bdf8; text-decoration: none; letter-spacing: 0.08em; text-transform: uppercase; }
        .back-link { color: #9ca3af; text-decoration: none; font-size: 0.9rem; }
        .back-link:hover { color: #38bdf8; }
        .article-header { padding: 120px 20px 60px; background: radial-gradient(circle at top left, #22c55e 0, transparent 50%), radial-gradient(circle at bottom right, #3b82f6 0, transparent 55%), #020617; text-align: center; }
        .article-header h1 { max-width: 800px; margin: 0 auto 1rem; font-size: 2.5rem; font-weight: 800; letter-spacing: -0.03em; color: #fff; }
        .article-meta { color: #9ca3af; font-size: 0.9rem; margin-bottom: 1.5rem; }
        .article-tags { display: flex; justify-content: center; flex-wrap: wrap; gap: 0.5rem; }
        .article-tag { padding: 0.25rem 0.75rem; border-radius: 999px; font-size: 0.75rem; background: rgba(15,23,42,0.85); border: 1px solid rgba(34,197,94,0.4); color: #4ade80; }
        .article-content { max-width: 800px; margin: 0 auto; padding: 60px 20px 80px; }
        .article-content h2 { font-size: 1.6rem; margin: 2.5rem 0 1rem; color: #f9fafb; border-left: 4px solid #22c55e; padding-left: 1rem; }
        .article-content h3 { font-size: 1.25rem; margin: 2rem 0 0.75rem; color: #e5e7eb; }
        .article-content p { margin-bottom: 1.25rem; color: #d1d5db; }
        .article-content ul, .article-content ol { margin: 1rem 0 1.5rem 1.5rem; color: #d1d5db; }
        .article-content li { margin-bottom: 0.5rem; }
        .article-content strong { color: #f9fafb; }
        pre { background: #0f172a; border: 1px solid rgba(34,197,94,0.3); border-radius: 12px; padding: 1.25rem; overflow-x: auto; margin: 1.5rem 0; font-size: 0.85rem; line-height: 1.6; }
        code { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace; color: #e5e7eb; }
        .code-keyword { color: #c084fc; }
        .code-func { color: #38bdf8; }
        .code-type { color: #4ade80; }
        .code-string { color: #fb7185; }
        .code-comment { color: #6b7280; font-style: italic; }
        .callout { background: rgba(34,197,94,0.1); border: 1px solid rgba(34,197,94,0.3); border-radius: 12px; padding: 1.25rem 1.5rem; margin: 1.5rem 0; }
        .callout-title { font-weight: 600; color: #4ade80; margin-bottom: 0.5rem; }
        .callout p { margin-bottom: 0; color: #d1d5db; }
        .footer { background: #020617; border-top: 1px solid #111827; padding: 2rem; text-align: center; color: #6b7280; }
        .footer a { color: #38bdf8; text-decoration: none; }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <a href="../index.html" class="logo">Fidroid</a>
            <a href="../index.html#articles" class="back-link">â† è¿”å›åšå®¢åˆ—è¡¨</a>
        </div>
    </nav>

    <header class="article-header">
        <h1>Compose æ— éšœç¢å¼€å‘æŒ‡å—ï¼šSemantics ä¸å±å¹•é˜…è¯»å™¨</h1>
        <p class="article-meta">2024-05-16 Â· 22 min Â· æ— éšœç¢</p>
        <div class="article-tags">
            <span class="article-tag">Accessibility</span>
            <span class="article-tag">Semantics</span>
            <span class="article-tag">TalkBack</span>
        </div>
    </header>

    <article class="article-content">
        <p>æ— éšœç¢ï¼ˆAccessibilityï¼‰æ˜¯ç°ä»£åº”ç”¨å¼€å‘çš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚Compose æä¾›äº†å¼ºå¤§çš„è¯­ä¹‰ç³»ç»Ÿï¼ˆSemanticsï¼‰ï¼Œè®©ä½ å¯ä»¥è½»æ¾æ„å»ºå¯¹å±å¹•é˜…è¯»å™¨å’Œè¾…åŠ©æœåŠ¡å‹å¥½çš„ UIã€‚</p>

        <div class="callout">
            <p class="callout-title">ğŸ’¡ æ— éšœç¢å¸¦æ¥çš„å¥½å¤„</p>
            <p>æ‰©å¤§ç”¨æˆ·ç¾¤ä½“ã€æå‡æ‰€æœ‰ç”¨æˆ·ä½“éªŒã€ç¬¦åˆæ³•è§„è¦æ±‚ï¼ˆADAã€WCAGï¼‰ã€æå‡å¯æµ‹è¯•æ€§ã€‚</p>
        </div>

        <h2>ä¸€ã€Semantics è¯­ä¹‰ç³»ç»Ÿ</h2>

<pre><code><span class="code-comment">// ä¸ºå›¾æ ‡æä¾›æè¿°</span>
<span class="code-func">Icon</span>(
    imageVector = <span class="code-type">Icons</span>.Default.Share,
    contentDescription = <span class="code-string">"åˆ†äº«"</span>
)

<span class="code-comment">// è£…é¥°æ€§å›¾åƒ</span>
<span class="code-func">Image</span>(
    painter = <span class="code-func">painterResource</span>(R.drawable.decorative),
    contentDescription = <span class="code-keyword">null</span>  <span class="code-comment">// ä¼šè¢«å¿½ç•¥</span>
)</code></pre>

        <h2>äºŒã€è‡ªå®šä¹‰è¯­ä¹‰</h2>

<pre><code><span class="code-func">Box</span>(
    modifier = <span class="code-type">Modifier</span>
        .<span class="code-func">clickable</span> { <span class="code-func">onItemClick</span>() }
        .<span class="code-func">semantics</span> { 
            role = <span class="code-type">Role</span>.Button
            contentDescription = <span class="code-string">"è‡ªå®šä¹‰æŒ‰é’®"</span>
        }
) {
    <span class="code-func">Text</span>(<span class="code-string">"ç‚¹å‡»æˆ‘"</span>)
}</code></pre>

        <h3>çŠ¶æ€æè¿°</h3>

<pre><code><span class="code-keyword">@Composable</span>
<span class="code-keyword">fun</span> <span class="code-func">ExpandableCard</span>(expanded: <span class="code-type">Boolean</span>) {
    <span class="code-func">Column</span>(
        modifier = <span class="code-type">Modifier</span>.<span class="code-func">semantics</span> {
            stateDescription = <span class="code-keyword">if</span> (expanded) <span class="code-string">"å·²å±•å¼€"</span> <span class="code-keyword">else</span> <span class="code-string">"å·²æŠ˜å "</span>
        }
    ) { ... }
}</code></pre>

        <h2>ä¸‰ã€åˆå¹¶è¯­ä¹‰</h2>

<pre><code><span class="code-keyword">@Composable</span>
<span class="code-keyword">fun</span> <span class="code-func">UserCard</span>(user: <span class="code-type">User</span>) {
    <span class="code-func">Row</span>(
        modifier = <span class="code-type">Modifier</span>
            .<span class="code-func">clickable</span> { <span class="code-func">onUserClick</span>(user) }
            .<span class="code-func">clearAndSetSemantics</span> {
                contentDescription = <span class="code-string">"${user.name}ï¼Œ${user.role}ï¼Œç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…"</span>
            }
    ) {
        <span class="code-func">Avatar</span>(user.avatarUrl)
        <span class="code-func">Text</span>(user.name)
    }
}</code></pre>

        <h2>å››ã€è‡ªå®šä¹‰æ“ä½œ</h2>

<pre><code><span class="code-func">Box</span>(
    modifier = <span class="code-type">Modifier</span>.<span class="code-func">semantics</span> {
        customActions = <span class="code-func">listOf</span>(
            <span class="code-func">CustomAccessibilityAction</span>(<span class="code-string">"åˆ é™¤"</span>) {
                <span class="code-func">onDelete</span>()
                <span class="code-keyword">true</span>
            },
            <span class="code-func">CustomAccessibilityAction</span>(<span class="code-string">"å½’æ¡£"</span>) {
                <span class="code-func">onArchive</span>()
                <span class="code-keyword">true</span>
            }
        )
    }
) { ... }</code></pre>

        <h2>äº”ã€Live Region</h2>

<pre><code><span class="code-func">Text</span>(
    text = <span class="code-string">"è®¡æ•°: $count"</span>,
    modifier = <span class="code-type">Modifier</span>.<span class="code-func">semantics</span> {
        liveRegion = <span class="code-type">LiveRegionMode</span>.Polite  <span class="code-comment">// å†…å®¹å˜åŒ–æ—¶é€šçŸ¥</span>
    }
)</code></pre>

        <h2>å…­ã€æœ€ä½³å®è·µæ¸…å•</h2>
        <ul>
            <li>âœ… ä¸ºæ‰€æœ‰æœ‰æ„ä¹‰çš„å›¾æ ‡æä¾› <code>contentDescription</code></li>
            <li>âœ… è£…é¥°æ€§å›¾åƒä½¿ç”¨ <code>contentDescription = null</code></li>
            <li>âœ… ä½¿ç”¨ <code>mergeDescendants</code> åˆå¹¶ç›¸å…³å…ƒç´ </li>
            <li>âœ… ä¸ºå¤æ‚æ‰‹åŠ¿æä¾›æ›¿ä»£çš„ <code>customActions</code></li>
            <li>âœ… ç¡®ä¿è§¦æ‘¸ç›®æ ‡è‡³å°‘ 48dp</li>
            <li>âœ… ä½¿ç”¨ <code>heading()</code> æ ‡è®°æ ‡é¢˜</li>
            <li>âœ… ä½¿ç”¨ TalkBack å®é™…æµ‹è¯•</li>
        </ul>

        <h2>æ€»ç»“</h2>
        <ul>
            <li><strong>Semantics</strong>ï¼šå‘è¾…åŠ©æœåŠ¡æè¿° UI</li>
            <li><strong>contentDescription</strong>ï¼šä¸ºå›¾åƒæä¾›æè¿°</li>
            <li><strong>Role</strong>ï¼šæ˜ç¡®å…ƒç´ äº¤äº’ç±»å‹</li>
            <li><strong>customActions</strong>ï¼šä¸ºæ‰‹åŠ¿æä¾›æ›¿ä»£æ“ä½œ</li>
            <li><strong>liveRegion</strong>ï¼šé€šçŸ¥åŠ¨æ€å†…å®¹å˜åŒ–</li>
        </ul>
    </article>

    <footer class="footer">
        <p>&copy; 2024 Fidroid. <a href="../index.html">è¿”å›é¦–é¡µ</a></p>
    </footer>
</body>
</html>



