<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Android æ¡Œé¢å°éƒ¨ä»¶å¼€å‘å®Œå…¨æŒ‡å—ï¼šä»ä¼ ç»Ÿåˆ° Compose - Fidroid</title>
    <meta name="description" content="å…¨é¢ä»‹ç» Android æ¡Œé¢å°éƒ¨ä»¶å¼€å‘ï¼Œä»ä¼ ç»Ÿ RemoteViews åˆ°ç°ä»£ Glance (Compose) æ–¹å¼ï¼Œæ¶µç›–å„ç‰ˆæœ¬ç‰¹æ€§æ¼”è¿›ã€‚">
    <style>

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; line-height: 1.8; color: #e5e7eb; background: #020617; }
        .navbar { background: rgba(15,23,42,0.98); backdrop-filter: blur(10px); position: fixed; top: 0; width: 100%; z-index: 1000; }
        .nav-container { max-width: 900px; margin: 0 auto; padding: 1rem 20px; display: flex; justify-content: space-between; align-items: center; }
        .logo { font-size: 1.5rem; font-weight: bold; color: #38bdf8; text-decoration: none; letter-spacing: 0.08em; text-transform: uppercase; }
        .back-link { color: #9ca3af; text-decoration: none; font-size: 0.9rem; }
        .back-link:hover { color: #38bdf8; }
        .article-header { padding: 120px 20px 60px; background: radial-gradient(circle at top left, #dc2626 0, transparent 50%), radial-gradient(circle at bottom right, #7c3aed 0, transparent 55%), #020617; text-align: center; }
        .article-header h1 { max-width: 800px; margin: 0 auto 1rem; font-size: 2.5rem; font-weight: 800; letter-spacing: -0.03em; color: #fff; }
        .article-meta { color: #9ca3af; font-size: 0.9rem; margin-bottom: 1.5rem; }
        .article-tags { display: flex; justify-content: center; flex-wrap: wrap; gap: 0.5rem; }
        .article-tag { padding: 0.25rem 0.75rem; border-radius: 999px; font-size: 0.75rem; background: rgba(15,23,42,0.85); border: 1px solid rgba(220,38,38,0.4); color: #f87171; }
        .article-content { max-width: 800px; margin: 0 auto; padding: 60px 20px 80px; }
        .article-content h2 { font-size: 1.6rem; margin: 2.5rem 0 1rem; color: #f9fafb; border-left: 4px solid #dc2626; padding-left: 1rem; }
        .article-content h3 { font-size: 1.25rem; margin: 2rem 0 0.75rem; color: #e5e7eb; }
        .article-content p { margin-bottom: 1.25rem; color: #d1d5db; }
        .article-content ul, .article-content ol { margin: 1rem 0 1.5rem 1.5rem; color: #d1d5db; }
        .article-content li { margin-bottom: 0.5rem; }
        .article-content strong { color: #f9fafb; }
        pre { background: #0f172a; border: 1px solid rgba(220,38,38,0.3); border-radius: 12px; padding: 1.25rem; overflow-x: auto; margin: 1.5rem 0; font-size: 0.85rem; line-height: 1.6; }
        code { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace; color: #e5e7eb; }
        .code-keyword { color: #c084fc; }
        .code-func { color: #38bdf8; }
        .code-type { color: #4ade80; }
        .code-string { color: #fb7185; }
        .code-comment { color: #6b7280; font-style: italic; }
        .footer { background: #020617; border-top: 1px solid #111827; padding: 2rem; text-align: center; color: #6b7280; }
        .footer a { color: #38bdf8; text-decoration: none; }
    
        .toc {
            background: rgba(15,23,42,0.6);
            border: 1px solid rgba(220,38,38,0.3);
            border-radius: 12px;
            padding: 1.5rem;
            margin: 2rem 0 3rem;
        }
        .toc-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: #f87171;
            margin-bottom: 1rem;
        }
        .toc-list {
            list-style: none;
            margin: 0;
            padding: 0;
        }
        .toc-list li {
            margin: 0.5rem 0;
        }
        .toc-list a {
            color: #d1d5db;
            text-decoration: none;
        }
        .toc-list a:hover {
            color: #38bdf8;
        }
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
            background: #0f172a;
            border-radius: 12px;
            overflow: hidden;
        }
        .comparison-table th,
        .comparison-table td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid rgba(220,38,38,0.2);
        }
        .comparison-table th {
            background: rgba(220,38,38,0.2);
            color: #f87171;
            font-weight: 600;
        }
        .comparison-table tr:last-child td {
            border-bottom: none;
        }
        .code-bad {
            background: rgba(220,38,38,0.1);
            border-left: 3px solid #ef4444;
            padding: 1rem;
            margin: 1rem 0;
        }
        .code-good {
            background: rgba(34,197,94,0.1);
            border-left: 3px solid #22c55e;
            padding: 1rem;
            margin: 1rem 0;
        }
        .reference {
            background: rgba(15,23,42,0.6);
            border: 1px solid rgba(148,163,184,0.2);
            border-radius: 8px;
            padding: 1rem 1.25rem;
            margin: 1rem 0;
            font-size: 0.9rem;
        }
        .reference-title {
            font-weight: 600;
            color: #94a3b8;
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 0.5rem;
        }
        .reference a { color: #38bdf8; }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <a href="../index.html" class="logo">Fidroid</a>
            <a href="../index.html#blog" class="back-link">â† è¿”å›åšå®¢åˆ—è¡¨</a>
        </div>
    </nav>

    <header class="article-header">
        <h1>Android æ¡Œé¢å°éƒ¨ä»¶å¼€å‘å®Œå…¨æŒ‡å—</h1>
        <p class="article-meta">2024-12-23 Â· 50-60 min Â· æ¡Œé¢å°éƒ¨ä»¶</p>
        <div class="article-tags">
            <span class="article-tag">Widgets</span>
            <span class="article-tag">Glance</span>
            <span class="article-tag">RemoteViews</span>
            <span class="article-tag">Compose</span>
        </div>
    </header>

    <article class="article-content">
        <nav class="toc">
            <div class="toc-title">ğŸ“š ç›®å½•</div>
            <ul class="toc-list">
                <li><a href="#i-æ¡Œé¢å°éƒ¨ä»¶åŸºç¡€æ¦‚å¿µ">I. æ¡Œé¢å°éƒ¨ä»¶åŸºç¡€æ¦‚å¿µ</a></li>
                <li><a href="#ii-android-ç‰ˆæœ¬æ¼”è¿›å†å²">II. Android ç‰ˆæœ¬æ¼”è¿›å†å²</a></li>
                <li><a href="#iii-ä¼ ç»Ÿæ–¹å¼remoteviews--xml">III. ä¼ ç»Ÿæ–¹å¼ï¼šRemoteViews + XML</a></li>
                <li><a href="#iv-ç°ä»£æ–¹å¼jetpack-glance-compose">IV. ç°ä»£æ–¹å¼ï¼šJetpack Glance (Compose)</a></li>
                <li><a href="#v-çŠ¶æ€ç®¡ç†ä¸æ•°æ®æ›´æ–°">V. çŠ¶æ€ç®¡ç†ä¸æ•°æ®æ›´æ–°</a></li>
                <li><a href="#vi-äº¤äº’ä¸å“åº”">VI. äº¤äº’ä¸å“åº”</a></li>
                <li><a href="#vii-æ€§èƒ½ä¼˜åŒ–ä¸æœ€ä½³å®è·µ">VII. æ€§èƒ½ä¼˜åŒ–ä¸æœ€ä½³å®è·µ</a></li>
                <li><a href="#viii-é«˜çº§ç‰¹æ€§">VIII. é«˜çº§ç‰¹æ€§</a></li>
            </ul>
        </nav>
<p>æ¡Œé¢å°éƒ¨ä»¶ (Home Screen Widgets) æ˜¯ Android ç”¨æˆ·ä½“éªŒçš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œè®©ç”¨æˆ·æ— éœ€æ‰“å¼€åº”ç”¨å³å¯æŸ¥çœ‹å…³é”®ä¿¡æ¯ã€‚ä» Android 1.5 å¼•å…¥è‡³ä»Šï¼Œæ¡Œé¢å°éƒ¨ä»¶ç»å†äº†å¤šæ¬¡é‡å¤§æ›´æ–°ã€‚æœ¬æ–‡å°†å…¨é¢ä»‹ç»æ¡Œé¢å°éƒ¨ä»¶çš„å¼€å‘ï¼Œä»ä¼ ç»Ÿçš„ XML/RemoteViews æ–¹å¼åˆ°ç°ä»£çš„ Jetpack Glance (Compose) æ–¹å¼ï¼Œä»¥åŠå„ä¸ª Android ç‰ˆæœ¬çš„ç‰¹æ€§æ¼”è¿›ã€‚</p>
        <h3 id="-å®˜æ–¹å‚è€ƒ">ğŸ“š å®˜æ–¹å‚è€ƒ</h3>
        <ul>
        <li><a href="https://developer.android.com/develop/ui/views/appwidgets/overview" target="_blank">App Widgets Overview - Android Developers</a></li>
        <li><a href="https://developer.android.com/jetpack/androidx/releases/glance" target="_blank">Jetpack Glance - Android Developers</a></li>
        <li><a href="https://developer.android.com/develop/ui/views/appwidgets" target="_blank">Build an App Widget - Android Developers</a></li>
        </ul>
        <h3 id="ç›®å½•">ç›®å½•</h3>
        <ul>
        <li><a href="#i-æ¡Œé¢å°éƒ¨ä»¶åŸºç¡€æ¦‚å¿µ" target="_blank">I. æ¡Œé¢å°éƒ¨ä»¶åŸºç¡€æ¦‚å¿µ</a></li>
        <li><a href="#ii-android-ç‰ˆæœ¬æ¼”è¿›å†å²" target="_blank">II. Android ç‰ˆæœ¬æ¼”è¿›å†å²</a></li>
        <li><a href="#iii-ä¼ ç»Ÿæ–¹å¼remoteviews--xml" target="_blank">III. ä¼ ç»Ÿæ–¹å¼ï¼šRemoteViews + XML</a></li>
        <li><a href="#iv-ç°ä»£æ–¹å¼jetpack-glance-compose" target="_blank">IV. ç°ä»£æ–¹å¼ï¼šJetpack Glance (Compose)</a></li>
        <li><a href="#v-çŠ¶æ€ç®¡ç†ä¸æ•°æ®æ›´æ–°" target="_blank">V. çŠ¶æ€ç®¡ç†ä¸æ•°æ®æ›´æ–°</a></li>
        <li><a href="#vi-äº¤äº’ä¸å“åº”" target="_blank">VI. äº¤äº’ä¸å“åº”</a></li>
        <li><a href="#vii-æ€§èƒ½ä¼˜åŒ–ä¸æœ€ä½³å®è·µ" target="_blank">VII. æ€§èƒ½ä¼˜åŒ–ä¸æœ€ä½³å®è·µ</a></li>
        <li><a href="#viii-é«˜çº§ç‰¹æ€§" target="_blank">VIII. é«˜çº§ç‰¹æ€§</a></li>
        </ul>
        <h3 id="i-æ¡Œé¢å°éƒ¨ä»¶åŸºç¡€æ¦‚å¿µ">I. æ¡Œé¢å°éƒ¨ä»¶åŸºç¡€æ¦‚å¿µ</h3>
        <h4>1.1 ä»€ä¹ˆæ˜¯æ¡Œé¢å°éƒ¨ä»¶ï¼Ÿ</h4>
        <p>æ¡Œé¢å°éƒ¨ä»¶æ˜¯æ˜¾ç¤ºåœ¨è®¾å¤‡ä¸»å±å¹•ä¸Šçš„è¿·ä½ åº”ç”¨è§†å›¾ï¼Œå®ƒä»¬æä¾›ï¼š</p>
        <ul>
        <li><strong>ä¸€ç›®äº†ç„¶çš„ä¿¡æ¯</strong>ï¼šå¤©æ°”ã€æ—¥å†ã€è‚¡ç¥¨ç­‰</li>
        <li><strong>å¿«é€Ÿæ“ä½œ</strong>ï¼šæ’­æ”¾æ§åˆ¶ã€ä¾¿ç­¾ã€å€’è®¡æ—¶ç­‰</li>
        <li><strong>å®æ—¶æ›´æ–°</strong>ï¼šæ— éœ€æ‰“å¼€åº”ç”¨å³å¯æŸ¥çœ‹æœ€æ–°ä¿¡æ¯</li>
        </ul>
        <h4>1.2 æ ¸å¿ƒç»„ä»¶</h4>
        <p>ä¸€ä¸ªå®Œæ•´çš„æ¡Œé¢å°éƒ¨ä»¶åŒ…å«ä»¥ä¸‹éƒ¨åˆ†ï¼š</p>
        <ol>
        <li><strong>AppWidgetProvider</strong>ï¼šç»§æ‰¿è‡ª <code>BroadcastReceiver</code>ï¼Œå¤„ç†å°éƒ¨ä»¶çš„ç”Ÿå‘½å‘¨æœŸäº‹ä»¶</li>
        <li><strong>AppWidgetProviderInfo</strong>ï¼šXML é…ç½®æ–‡ä»¶ï¼Œå®šä¹‰å°éƒ¨ä»¶çš„å…ƒæ•°æ®ï¼ˆå°ºå¯¸ã€æ›´æ–°é¢‘ç‡ç­‰ï¼‰</li>
        <li><strong>Layout (RemoteViews æˆ– Glance)</strong>ï¼šå°éƒ¨ä»¶çš„è§†å›¾å±‚</li>
        <li><strong>AppWidgetManager</strong>ï¼šç³»ç»ŸæœåŠ¡ï¼Œè´Ÿè´£ç®¡ç†æ‰€æœ‰å°éƒ¨ä»¶</li>
        </ol>
        <h4>1.3 ç”Ÿå‘½å‘¨æœŸ</h4>
        <pre><code>
        ç”¨æˆ·æ·»åŠ å°éƒ¨ä»¶
    â†“
onEnabled() - é¦–æ¬¡æ·»åŠ æ—¶è°ƒç”¨ä¸€æ¬¡
    â†“
onUpdate() - æ¯æ¬¡æ›´æ–°æ—¶è°ƒç”¨
    â†“
onAppWidgetOptionsChanged() - å°ºå¯¸æ”¹å˜æ—¶è°ƒç”¨
    â†“
onDeleted() - ç”¨æˆ·åˆ é™¤å°éƒ¨ä»¶
    â†“
onDisabled() - æœ€åä¸€ä¸ªå°éƒ¨ä»¶è¢«åˆ é™¤æ—¶è°ƒç”¨
        </code></pre>
        <h3 id="ii-android-ç‰ˆæœ¬æ¼”è¿›å†å²">II. Android ç‰ˆæœ¬æ¼”è¿›å†å²</h3>
        <h4>2.1 å„ç‰ˆæœ¬é‡è¦ç‰¹æ€§</h4>
        <table class="comparison-table"><thead>
        <tr><th>Android ç‰ˆæœ¬</th><th>API Level</th><th>é‡è¦ç‰¹æ€§</th></tr>
        <tr><td><strong>Android 1.5 (Cupcake)</strong></td><td>3</td><td>é¦–æ¬¡å¼•å…¥æ¡Œé¢å°éƒ¨ä»¶</td></tr>
        <tr><td><strong>Android 3.0 (Honeycomb)</strong></td><td>11</td><td>å¼•å…¥å¯è°ƒæ•´å¤§å°çš„å°éƒ¨ä»¶</td></tr>
        <tr><td><strong>Android 3.1</strong></td><td>12</td><td>å¼•å…¥ ListView/GridView å°éƒ¨ä»¶ï¼ˆé›†åˆè§†å›¾ï¼‰</td></tr>
        <tr><td><strong>Android 4.1 (Jelly Bean)</strong></td><td>16</td><td>è‡ªåŠ¨è°ƒæ•´å¤§å°ä»¥é€‚åº”å±å¹•</td></tr>
        <tr><td><strong>Android 4.2</strong></td><td>17</td><td>é”å±å°éƒ¨ä»¶ï¼ˆå·²åœ¨ Android 5.0 ç§»é™¤ï¼‰</td></tr>
        <tr><td><strong>Android 8.0 (Oreo)</strong></td><td>26</td><td>å¯å›ºå®šçš„å¿«æ·æ–¹å¼å’Œå°éƒ¨ä»¶</td></tr>
        <tr><td><strong>Android 12</strong></td><td>31</td><td>æ”¹è¿›çš„å°éƒ¨ä»¶é€‰æ‹©å™¨ï¼Œåœ†è§’å’Œè¾¹è·æ”¯æŒ</td></tr>
        <tr><td><strong>Android 12L</strong></td><td>32</td><td>åŠ¨æ€é¢œè‰²ä¸»é¢˜æ”¯æŒ</td></tr>
        <tr><td><strong>Android 13</strong></td><td>33</td><td>æ”¹è¿›çš„å°éƒ¨ä»¶é…ç½®æµç¨‹</td></tr>
        <h4>2.2 Android 12+ çš„é‡å¤§å˜åŒ–</h4>
        <p>Android 12 å¼•å…¥äº†å…¨æ–°çš„å°éƒ¨ä»¶ç³»ç»Ÿï¼Œä¸»è¦å˜åŒ–åŒ…æ‹¬ï¼š</p>
        <ol>
        <li><strong>åŠ¨æ€é¢œè‰² (Dynamic Colors)</strong>ï¼šå°éƒ¨ä»¶å¯ä»¥è‡ªåŠ¨é€‚åº”ç³»ç»Ÿå£çº¸é…è‰²</li>
        <li><strong>åœ†è§’å’Œè¾¹è·</strong>ï¼šç³»ç»Ÿè‡ªåŠ¨æ·»åŠ ï¼Œæ— éœ€æ‰‹åŠ¨å¤„ç†</li>
        <li><strong>æ”¹è¿›çš„é€‰æ‹©å™¨</strong>ï¼šæ›´ç¾è§‚çš„å°éƒ¨ä»¶é¢„è§ˆå’Œæ·»åŠ æµç¨‹</li>
        <li><strong>æ›´çµæ´»çš„å°ºå¯¸</strong>ï¼š<code>targetCellWidth</code>/<code>targetCellHeight</code> æ›¿ä»£å›ºå®šå°ºå¯¸</li>
        </ol>
        <pre><code>
        &lt;!-- Android 12+ æ¨èçš„å°ºå¯¸å®šä¹‰ --&gt;
&lt;appwidget-provider
    android:targetCellWidth="3"
    android:targetCellHeight="2"
    android:maxResizeWidth="180dp"
    android:maxResizeHeight="110dp" /&gt;
        </code></pre>
        <h3 id="iii-ä¼ ç»Ÿæ–¹å¼remoteviews-xml">III. ä¼ ç»Ÿæ–¹å¼ï¼šRemoteViews + XML</h3>
        <p>ä¼ ç»Ÿæ–¹å¼æ˜¯ Android æœ€åˆè®¾è®¡çš„å°éƒ¨ä»¶å¼€å‘æ¨¡å¼ï¼Œç›´åˆ°ç°åœ¨ä»ç„¶è¢«å¹¿æ³›ä½¿ç”¨ã€‚</p>
        <h4>3.1 åˆ›å»º AppWidgetProvider</h4>
        <p>è¿™æ˜¯å°éƒ¨ä»¶çš„æ ¸å¿ƒé€»è¾‘ç±»ã€‚</p>
        <pre><code>
        class WeatherWidgetProvider : AppWidgetProvider() {
    
    override fun onUpdate(
        context: Context,
        appWidgetManager: AppWidgetManager,
        appWidgetIds: IntArray
    ) {
        // éå†æ‰€æœ‰å°éƒ¨ä»¶å®ä¾‹
        for (appWidgetId in appWidgetIds) {
            updateAppWidget(context, appWidgetManager, appWidgetId)
        }
    }
    
    override fun onEnabled(context: Context) {
        // ç¬¬ä¸€ä¸ªå°éƒ¨ä»¶è¢«æ·»åŠ æ—¶è°ƒç”¨
        // å¯åŠ¨åå°æœåŠ¡ã€æ³¨å†Œç›‘å¬å™¨ç­‰
    }
    
    override fun onDisabled(context: Context) {
        // æœ€åä¸€ä¸ªå°éƒ¨ä»¶è¢«åˆ é™¤æ—¶è°ƒç”¨
        // æ¸…ç†èµ„æºã€å–æ¶ˆæ³¨å†Œç­‰
    }
    
    private fun updateAppWidget(
        context: Context,
        appWidgetManager: AppWidgetManager,
        appWidgetId: Int
    ) {
        // åˆ›å»º RemoteViews
        val views = RemoteViews(context.packageName, R.layout.widget_weather)
        
        // æ›´æ–°æ•°æ®
        views.setTextViewText(R.id.widget_temperature, "25Â°C")
        views.setTextViewText(R.id.widget_city, "Beijing")
        views.setImageViewResource(R.id.widget_icon, R.drawable.ic_sunny)
        
        // æ·»åŠ ç‚¹å‡»äº‹ä»¶
        val intent = Intent(context, MainActivity::class.java)
        val pendingIntent = PendingIntent.getActivity(
            context,
            0,
            intent,
            PendingIntent.FLAG_UPDATE_CURRENT or PendingIntent.FLAG_IMMUTABLE
        )
        views.setOnClickPendingIntent(R.id.widget_container, pendingIntent)
        
        // æ›´æ–°å°éƒ¨ä»¶
        appWidgetManager.updateAppWidget(appWidgetId, views)
    }
}
        </code></pre>
        <h4>3.2 å®šä¹‰å¸ƒå±€ (RemoteViews é™åˆ¶)</h4>
        <p>RemoteViews åªæ”¯æŒä»¥ä¸‹å¸ƒå±€å’Œè§†å›¾ï¼š</p>
        <p><strong>æ”¯æŒçš„å¸ƒå±€ï¼š</strong></p>
        <ul>
        <li><code>FrameLayout</code></li>
        <li><code>LinearLayout</code></li>
        <li><code>RelativeLayout</code></li>
        <li><code>GridLayout</code></li>
        </ul>
        <p><strong>æ”¯æŒçš„è§†å›¾ï¼š</strong></p>
        <ul>
        <li><code>TextView</code></li>
        <li><code>ImageView</code></li>
        <li><code>Button</code></li>
        <li><code>ProgressBar</code></li>
        <li><code>Chronometer</code></li>
        <li><code>ListView</code></li>
        <li><code>GridView</code></li>
        <li><code>StackView</code></li>
        <li><code>ViewFlipper</code></li>
        </ul>
        <pre><code>
        &lt;!-- res/layout/widget_weather.xml --&gt;
&lt;LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/widget_container"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:padding="16dp"
    android:background="@drawable/widget_background"&gt;

    &lt;TextView
        android:id="@+id/widget_city"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:textSize="16sp"
        android:textColor="@android:color/white"
        android:text="City" /&gt;

    &lt;LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal"
        android:gravity="center_vertical"&gt;

        &lt;ImageView
            android:id="@+id/widget_icon"
            android:layout_width="48dp"
            android:layout_height="48dp"
            android:src="@drawable/ic_sunny" /&gt;

        &lt;TextView
            android:id="@+id/widget_temperature"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:textSize="32sp"
            android:textColor="@android:color/white"
            android:layout_marginStart="8dp"
            android:text="25Â°C" /&gt;
    &lt;/LinearLayout&gt;
&lt;/LinearLayout&gt;
        </code></pre>
        <h4>3.3 é…ç½® AppWidgetProviderInfo</h4>
        <p>åœ¨ <code>res/xml/weather_widget_info.xml</code> ä¸­å®šä¹‰å…ƒæ•°æ®ã€‚</p>
        <pre><code>
        &lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;appwidget-provider
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:minWidth="180dp"
    android:minHeight="110dp"
    android:targetCellWidth="3"
    android:targetCellHeight="2"
    android:updatePeriodMillis="1800000"
    android:initialLayout="@layout/widget_weather"
    android:previewImage="@drawable/widget_preview"
    android:resizeMode="horizontal|vertical"
    android:widgetCategory="home_screen"
    android:description="@string/widget_description"
    android:previewLayout="@layout/widget_weather" /&gt;
        </code></pre>
        <p><strong>å…³é”®å±æ€§è¯´æ˜ï¼š</strong></p>
        <ul>
        <li><code>minWidth</code>/<code>minHeight</code>ï¼šæœ€å°å°ºå¯¸ï¼ˆAndroid 12 å‰ï¼‰</li>
        <li><code>targetCellWidth</code>/<code>targetCellHeight</code>ï¼šç›®æ ‡å•å…ƒæ ¼æ•°é‡ï¼ˆAndroid 12+ï¼‰</li>
        <li><code>updatePeriodMillis</code>ï¼šè‡ªåŠ¨æ›´æ–°é—´éš”ï¼ˆæœ€å° 30 åˆ†é’Ÿï¼‰</li>
        <li><code>resizeMode</code>ï¼šå¯è°ƒæ•´å¤§å°çš„æ–¹å‘</li>
        <li><code>widgetCategory</code>ï¼šå°éƒ¨ä»¶ç±»å‹ï¼ˆ<code>home_screen</code> æˆ– <code>keyguard</code>ï¼‰</li>
        </ul>
        <h4>3.4 æ³¨å†Œåˆ° AndroidManifest.xml</h4>
        <pre><code>
        &lt;receiver
    android:name=".WeatherWidgetProvider"
    android:exported="true"&gt;
    &lt;intent-filter&gt;
        &lt;action android:name="android.appwidget.action.APPWIDGET_UPDATE" /&gt;
    &lt;/intent-filter&gt;
    &lt;meta-data
        android:name="android.appwidget.provider"
        android:resource="@xml/weather_widget_info" /&gt;
&lt;/receiver&gt;
        </code></pre>
        <h3 id="iv-ç°ä»£æ–¹å¼jetpack-glance-compose">IV. ç°ä»£æ–¹å¼ï¼šJetpack Glance (Compose)</h3>
        <p>Jetpack Glance å…è®¸ä½¿ç”¨ Compose é£æ ¼çš„ä»£ç æ„å»ºå°éƒ¨ä»¶ï¼Œå¤§å¤§ç®€åŒ–äº†å¼€å‘æµç¨‹ã€‚</p>
        <h4>4.1 æ·»åŠ ä¾èµ–</h4>
        <pre><code>
        // build.gradle.kts
dependencies {
    implementation("androidx.glance:glance-appwidget:1.1.0")
    implementation("androidx.glance:glance-material3:1.1.0")
}
        </code></pre>
        <h4>4.2 åˆ›å»º GlanceAppWidget</h4>
        <p>Glance çš„æ ¸å¿ƒæ˜¯ <code>GlanceAppWidget</code> ç±»ã€‚</p>
        <pre><code>
        import androidx.compose.runtime.*
import androidx.glance.*
import androidx.glance.appwidget.*
import androidx.glance.layout.*
import androidx.glance.text.*
import androidx.glance.action.*
import androidx.glance.unit.ColorProvider

class WeatherGlanceWidget : GlanceAppWidget() {

    override suspend fun provideGlance(context: Context, id: GlanceId) {
        // åŠ è½½æ•°æ®ï¼ˆå¯ä»¥ä» Repository/DataStore è·å–ï¼‰
        val weatherData = loadWeatherData(context)
        
        // æä¾›å†…å®¹
        provideContent {
            WeatherWidgetContent(weatherData)
        }
    }

    @Composable
    private fun WeatherWidgetContent(data: WeatherData) {
        // ä½¿ç”¨ Glance Composable
        Column(
            modifier = GlanceModifier
                .fillMaxSize()
                .background(ImageProvider(R.drawable.widget_background))
                .padding(16.dp),
            verticalAlignment = Alignment.Vertical.Top,
            horizontalAlignment = Alignment.Horizontal.Start
        ) {
            // åŸå¸‚å
            Text(
                text = data.city,
                style = TextStyle(
                    color = ColorProvider(Color.White),
                    fontSize = 16.sp
                )
            )

            Spacer(modifier = GlanceModifier.height(8.dp))

            // æ¸©åº¦å’Œå›¾æ ‡
            Row(
                verticalAlignment = Alignment.Vertical.CenterVertically
            ) {
                Image(
                    provider = ImageProvider(data.iconRes),
                    contentDescription = "Weather Icon",
                    modifier = GlanceModifier.size(48.dp)
                )

                Spacer(modifier = GlanceModifier.width(8.dp))

                Text(
                    text = "${data.temperature}Â°C",
                    style = TextStyle(
                        color = ColorProvider(Color.White),
                        fontSize = 32.sp,
                        fontWeight = FontWeight.Bold
                    )
                )
            }

            Spacer(modifier = GlanceModifier.height(8.dp))

            // åˆ·æ–°æŒ‰é’®
            Button(
                text = "Refresh",
                onClick = actionRunCallback&lt;RefreshWeatherCallback&gt;(),
                colors = ButtonDefaults.buttonColors(
                    backgroundColor = ColorProvider(Color.White.copy(alpha = 0.2f))
                )
            )
        }
    }

    private suspend fun loadWeatherData(context: Context): WeatherData {
        // ä» DataStore/Repository åŠ è½½æ•°æ®
        return WeatherData("Beijing", 25, R.drawable.ic_sunny)
    }
}

data class WeatherData(
    val city: String,
    val temperature: Int,
    val iconRes: Int
)
        </code></pre>
        <h4>4.3 åˆ›å»º GlanceAppWidgetReceiver</h4>
        <p>è¿™æ˜¯ Glance ç‰ˆæœ¬çš„ Receiverã€‚</p>
        <pre><code>
        class WeatherGlanceWidgetReceiver : GlanceAppWidgetReceiver() {
    override val glanceAppWidget: GlanceAppWidget = WeatherGlanceWidget()
}
        </code></pre>
        <h4>4.4 é…ç½®å’Œæ³¨å†Œ</h4>
        <p>é…ç½®æ–‡ä»¶å’Œæ³¨å†Œæ–¹å¼ä¸ä¼ ç»Ÿæ–¹å¼ç›¸åŒã€‚</p>
        <pre><code>
        &lt;!-- res/xml/weather_glance_widget_info.xml --&gt;
&lt;appwidget-provider
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:targetCellWidth="3"
    android:targetCellHeight="2"
    android:updatePeriodMillis="1800000"
    android:resizeMode="horizontal|vertical"
    android:widgetCategory="home_screen"
    android:description="@string/widget_description"
    android:previewLayout="@layout/widget_preview" /&gt;
        </code></pre>
        <pre><code>
        &lt;!-- AndroidManifest.xml --&gt;
&lt;receiver
    android:name=".WeatherGlanceWidgetReceiver"
    android:exported="true"&gt;
    &lt;intent-filter&gt;
        &lt;action android:name="android.appwidget.action.APPWIDGET_UPDATE" /&gt;
    &lt;/intent-filter&gt;
    &lt;meta-data
        android:name="android.appwidget.provider"
        android:resource="@xml/weather_glance_widget_info" /&gt;
&lt;/receiver&gt;
        </code></pre>
        <h4>4.5 Glance vs æ ‡å‡† Compose å¯¹æ¯”</h4>
        <tr><th>ç‰¹æ€§</th><th>æ ‡å‡† Compose</th><th>Glance Compose</th></tr>
        <tr><td><strong>å¯¼å…¥åŒ…</strong></td><td><code>androidx.compose.ui.*</code></td><td><code>androidx.glance.*</code></td></tr>
        <tr><td><strong>Modifier</strong></td><td><code>Modifier</code></td><td><code>GlanceModifier</code></td></tr>
        <tr><td><strong>çŠ¶æ€ç®¡ç†</strong></td><td><code>mutableStateOf</code>, <code>remember</code></td><td>ä¸æ”¯æŒå®æ—¶çŠ¶æ€ï¼Œéœ€ç”¨ DataStore</td></tr>
        <tr><td><strong>å¸ƒå±€ç»„ä»¶</strong></td><td><code>Box</code>, <code>Row</code>, <code>Column</code> ç­‰</td><td><code>Box</code>, <code>Row</code>, <code>Column</code>ï¼ˆGlance ç‰ˆï¼‰</td></tr>
        <tr><td><strong>ç‚¹å‡»äº‹ä»¶</strong></td><td><code>onClick = { }</code></td><td><code>onClick = actionRunCallback<>()</code></td></tr>
        <tr><td><strong>Canvas ç»˜å›¾</strong></td><td>æ”¯æŒ</td><td>ä¸æ”¯æŒ</td></tr>
        <tr><td><strong>åŠ¨ç”»</strong></td><td>å®Œæ•´æ”¯æŒ</td><td>éå¸¸æœ‰é™</td></tr>
        <h3 id="v-çŠ¶æ€ç®¡ç†ä¸æ•°æ®æ›´æ–°">V. çŠ¶æ€ç®¡ç†ä¸æ•°æ®æ›´æ–°</h3>
        <h4>5.1 ä½¿ç”¨ DataStore æŒä¹…åŒ–çŠ¶æ€</h4>
        <p>Glance æ¨èä½¿ç”¨ DataStore æ¥ç®¡ç†å°éƒ¨ä»¶çŠ¶æ€ã€‚</p>
        <pre><code>
        // å®šä¹‰çŠ¶æ€
data class WeatherWidgetState(
    val city: String = "Unknown",
    val temperature: Int = 0,
    val lastUpdate: Long = 0
)

// å®šä¹‰ StateDefinition
object WeatherStateDefinition : GlanceStateDefinition&lt;WeatherWidgetState&gt; {
    
    private const val DATA_STORE_FILE = "weather_widget_state"
    
    override suspend fun getDataStore(
        context: Context,
        fileKey: String
    ): DataStore&lt;WeatherWidgetState&gt; {
        return context.dataStore
    }
    
    override fun getLocation(context: Context, fileKey: String): File {
        return context.dataStoreFile(DATA_STORE_FILE)
    }
    
    private val Context.dataStore by preferencesDataStore(name = DATA_STORE_FILE)
}

// åœ¨ GlanceAppWidget ä¸­ä½¿ç”¨
class WeatherGlanceWidget : GlanceAppWidget() {
    
    override val stateDefinition = WeatherStateDefinition
    
    override suspend fun provideGlance(context: Context, id: GlanceId) {
        provideContent {
            val state = currentState&lt;WeatherWidgetState&gt;()
            WeatherWidgetContent(state)
        }
    }
}
        </code></pre>
        <h4>5.2 æ‰‹åŠ¨è§¦å‘æ›´æ–°</h4>
        <pre><code>
        // åœ¨ Activity æˆ– Service ä¸­æ›´æ–°å°éƒ¨ä»¶
class UpdateWeatherService : Service() {
    
    override fun onStartCommand(intent: Intent?, flags: Int, startId: Int): Int {
        lifecycleScope.launch {
            val weatherData = fetchWeatherFromApi()
            
            // æ›´æ–° Glance å°éƒ¨ä»¶
            WeatherGlanceWidget().updateAll(this@UpdateWeatherService)
        }
        return START_NOT_STICKY
    }
}
        </code></pre>
        <h4>5.3 å®šæœŸæ›´æ–°ç­–ç•¥</h4>
        <p>ç”±äº <code>updatePeriodMillis</code> æœ€å°ä¸º 30 åˆ†é’Ÿï¼Œå¦‚æœéœ€è¦æ›´é¢‘ç¹çš„æ›´æ–°ï¼š</p>
        <p><strong>æ–¹å¼ 1ï¼šä½¿ç”¨ WorkManager</strong></p>
        <pre><code>
        val updateRequest = PeriodicWorkRequestBuilder&lt;WeatherUpdateWorker&gt;(
    15, TimeUnit.MINUTES
).build()

WorkManager.getInstance(context).enqueueUniquePeriodicWork(
    "WeatherWidgetUpdate",
    ExistingPeriodicWorkPolicy.KEEP,
    updateRequest
)
        </code></pre>
        <p><strong>æ–¹å¼ 2ï¼šä½¿ç”¨ AlarmManagerï¼ˆç²¾ç¡®æ—¶é—´ï¼‰</strong></p>
        <pre><code>
        val alarmManager = context.getSystemService&lt;AlarmManager&gt;()
val intent = Intent(context, WeatherWidgetReceiver::class.java).apply {
    action = ACTION_UPDATE_WIDGET
}
val pendingIntent = PendingIntent.getBroadcast(
    context, 0, intent, PendingIntent.FLAG_IMMUTABLE
)

alarmManager?.setRepeating(
    AlarmManager.RTC,
    System.currentTimeMillis(),
    AlarmManager.INTERVAL_FIFTEEN_MINUTES,
    pendingIntent
)
        </code></pre>
        <h3 id="vi-äº¤äº’ä¸å“åº”">VI. äº¤äº’ä¸å“åº”</h3>
        <h4>6.1 Glance ä¸­çš„ç‚¹å‡»äº‹ä»¶</h4>
        <p>Glance æä¾›äº†å¤šç§ Action ç±»å‹ï¼š</p>
        <pre><code>
        @Composable
fun InteractiveWidget() {
    Column {
        // 1. å¯åŠ¨ Activity
        Button(
            text = "Open App",
            onClick = actionStartActivity&lt;MainActivity&gt;()
        )
        
        // 2. è¿è¡Œ Callbackï¼ˆåå°ä»»åŠ¡ï¼‰
        Button(
            text = "Refresh",
            onClick = actionRunCallback&lt;RefreshCallback&gt;()
        )
        
        // 3. å‘é€å¹¿æ’­
        Button(
            text = "Broadcast",
            onClick = actionSendBroadcast(Intent("com.example.ACTION"))
        )
        
        // 4. å¯åŠ¨ Service
        Button(
            text = "Start Service",
            onClick = actionStartService&lt;UpdateService&gt;()
        )
    }
}
        </code></pre>
        <h4>6.2 å®ç° ActionCallback</h4>
        <pre><code>
        class RefreshWeatherCallback : ActionCallback {
    override suspend fun onAction(
        context: Context,
        glanceId: GlanceId,
        parameters: ActionParameters
    ) {
        // æ‰§è¡Œåå°ä»»åŠ¡
        val newData = fetchWeatherFromNetwork()
        
        // æ›´æ–°çŠ¶æ€
        updateAppWidgetState(context, glanceId) { prefs -&gt;
            prefs[temperatureKey] = newData.temperature
            prefs[cityKey] = newData.city
        }
        
        // åˆ·æ–°å°éƒ¨ä»¶
        WeatherGlanceWidget().update(context, glanceId)
    }
}
        </code></pre>
        <h4>6.3 ä¼ ç»Ÿ RemoteViews ä¸­çš„äº¤äº’</h4>
        <pre><code>
        // ç‚¹å‡»è·³è½¬ Activity
val intent = Intent(context, MainActivity::class.java)
val pendingIntent = PendingIntent.getActivity(
    context, 0, intent,
    PendingIntent.FLAG_UPDATE_CURRENT or PendingIntent.FLAG_IMMUTABLE
)
views.setOnClickPendingIntent(R.id.widget_button, pendingIntent)

// ç‚¹å‡»è§¦å‘å¹¿æ’­
val broadcastIntent = Intent(context, WeatherWidgetProvider::class.java).apply {
    action = ACTION_REFRESH
}
val broadcastPendingIntent = PendingIntent.getBroadcast(
    context, 0, broadcastIntent,
    PendingIntent.FLAG_UPDATE_CURRENT or PendingIntent.FLAG_IMMUTABLE
)
views.setOnClickPendingIntent(R.id.refresh_button, broadcastPendingIntent)
        </code></pre>
        <h3 id="vii-æ€§èƒ½ä¼˜åŒ–ä¸æœ€ä½³å®è·µ">VII. æ€§èƒ½ä¼˜åŒ–ä¸æœ€ä½³å®è·µ</h3>
        <h4>7.1 æ€§èƒ½ä¼˜åŒ–å»ºè®®</h4>
        <p><strong>1. å‡å°‘æ›´æ–°é¢‘ç‡</strong></p>
        <div class="code-bad"><pre><code>
        // âŒ ä¸æ¨èï¼šé¢‘ç¹æ›´æ–°
updatePeriodMillis="60000"  // 1åˆ†é’Ÿ

// âœ… æ¨èï¼šåˆç†é—´éš”
updatePeriodMillis="1800000"  // 30åˆ†é’Ÿ
        </code></pre></div>
        <p><strong>2. æ‡’åŠ è½½æ•°æ®</strong></p>
        <div class="code-good"><pre><code>
        override suspend fun provideGlance(context: Context, id: GlanceId) {
    provideContent {
        // âœ… åªåœ¨éœ€è¦æ—¶åŠ è½½
        val data = remember { loadData(context) }
        WidgetContent(data)
    }
}
        </code></pre></div>
        <p><strong>3. ä½¿ç”¨ç¼“å­˜</strong></p>
        <pre><code>
        class WeatherRepository {
    private var cache: WeatherData? = null
    private var lastFetch: Long = 0
    
    suspend fun getWeather(): WeatherData {
        val now = System.currentTimeMillis()
        if (cache != null &amp;&amp; now - lastFetch &lt; 10 * 60 * 1000) {
            return cache!!
        }
        
        cache = fetchFromNetwork()
        lastFetch = now
        return cache!!
    }
}
        </code></pre>
        <h4>7.2 å†…å­˜å’Œç”µé‡ä¼˜åŒ–</h4>
        <p><strong>é¿å…å†…å­˜æ³„æ¼ï¼š</strong></p>
        <pre><code>
        override fun onDisabled(context: Context) {
    super.onDisabled(context)
    // å–æ¶ˆæ‰€æœ‰åå°ä»»åŠ¡
    WorkManager.getInstance(context).cancelUniqueWork("WidgetUpdate")
    // æ¸…ç†èµ„æº
    repository.clear()
}
        </code></pre>
        <p><strong>ç”µé‡ä¼˜åŒ–ï¼š</strong></p>
        <ul>
        <li>ä½¿ç”¨ <code>WorkManager</code> æ›¿ä»£ <code>AlarmManager</code></li>
        <li>åˆå¹¶ç½‘ç»œè¯·æ±‚</li>
        <li>é¿å…æŒç»­è¿è¡Œçš„åå°æœåŠ¡</li>
        </ul>
        <h4>7.3 ç”¨æˆ·ä½“éªŒæœ€ä½³å®è·µ</h4>
        <ol>
        <li><strong>æä¾›åŠ è½½çŠ¶æ€</strong></li>
        <pre><code>
        @Composable
fun WidgetWithLoading(isLoading: Boolean, data: WeatherData?) {
    if (isLoading) {
        Box(modifier = GlanceModifier.fillMaxSize()) {
            CircularProgressIndicator()
        }
    } else {
        WeatherContent(data ?: WeatherData.empty())
    }
}
        </code></pre>
        </ol>
        <ol>
        <li><strong>é”™è¯¯å¤„ç†</strong></li>
        <pre><code>
        sealed class WidgetState {
    object Loading : WidgetState()
    data class Success(val data: WeatherData) : WidgetState()
    data class Error(val message: String) : WidgetState()
}
        </code></pre>
        </ol>
        <ol>
        <li><strong>å“åº”å¼è®¾è®¡</strong></li>
        <pre><code>
        @Composable
fun ResponsiveWidget(size: DpSize) {
    if (size.width &gt; 200.dp) {
        LargeWidgetLayout()
    } else {
        SmallWidgetLayout()
    }
}
        </code></pre>
        </ol>
        <h3 id="viii-é«˜çº§ç‰¹æ€§">VIII. é«˜çº§ç‰¹æ€§</h3>
        <h4>8.1 é›†åˆè§†å›¾ (ListView/GridView)</h4>
        <p>ä¼ ç»Ÿæ–¹å¼ä¸­æ”¯æŒæ˜¾ç¤ºåˆ—è¡¨æ•°æ®ï¼š</p>
        <pre><code>
        // RemoteViewsService
class WeatherListService : RemoteViewsService() {
    override fun onGetViewFactory(intent: Intent): RemoteViewsFactory {
        return WeatherRemoteViewsFactory(this.applicationContext)
    }
}

class WeatherRemoteViewsFactory(
    private val context: Context
) : RemoteViewsService.RemoteViewsFactory {
    
    private var dataList: List&lt;WeatherItem&gt; = emptyList()
    
    override fun onCreate() {
        // åˆå§‹åŒ–
    }
    
    override fun onDataSetChanged() {
        // æ•°æ®å˜åŒ–æ—¶é‡æ–°åŠ è½½
        dataList = loadWeatherList()
    }
    
    override fun getViewAt(position: Int): RemoteViews {
        val item = dataList[position]
        return RemoteViews(context.packageName, R.layout.widget_list_item).apply {
            setTextViewText(R.id.city_name, item.city)
            setTextViewText(R.id.temperature, "${item.temp}Â°C")
        }
    }
    
    override fun getCount(): Int = dataList.size
    
    // å…¶ä»–å¿…éœ€æ–¹æ³•...
}
        </code></pre>
        <h4>8.2 é…ç½® Activity</h4>
        <p>å…è®¸ç”¨æˆ·åœ¨æ·»åŠ å°éƒ¨ä»¶æ—¶è¿›è¡Œé…ç½®ï¼š</p>
        <pre><code>
        class WeatherWidgetConfigActivity : AppCompatActivity() {
    
    private var appWidgetId = AppWidgetManager.INVALID_APPWIDGET_ID
    
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setResult(RESULT_CANCELED)
        
        appWidgetId = intent.extras?.getInt(
            AppWidgetManager.EXTRA_APPWIDGET_ID,
            AppWidgetManager.INVALID_APPWIDGET_ID
        ) ?: AppWidgetManager.INVALID_APPWIDGET_ID
        
        if (appWidgetId == AppWidgetManager.INVALID_APPWIDGET_ID) {
            finish()
            return
        }
        
        setContent {
            ConfigScreen(
                onConfirm = { city -&gt;
                    saveConfiguration(city)
                    updateWidget()
                    
                    val resultValue = Intent().putExtra(
                        AppWidgetManager.EXTRA_APPWIDGET_ID,
                        appWidgetId
                    )
                    setResult(RESULT_OK, resultValue)
                    finish()
                }
            )
        }
    }
    
    private fun saveConfiguration(city: String) {
        val prefs = getSharedPreferences("widget_prefs", MODE_PRIVATE)
        prefs.edit().putString("city_$appWidgetId", city).apply()
    }
}
        </code></pre>
        <p>åœ¨ AppWidgetProviderInfo ä¸­å£°æ˜ï¼š</p>
        <pre><code>
        &lt;appwidget-provider
    android:configure="com.example.WeatherWidgetConfigActivity"
    ... /&gt;
        </code></pre>
        <h4>8.3 è‡ªé€‚åº”å›¾æ ‡å’ŒåŠ¨æ€é¢œè‰² (Android 12+)</h4>
        <pre><code>
        @Composable
fun DynamicColorWidget() {
    // ä½¿ç”¨ç³»ç»ŸåŠ¨æ€é¢œè‰²
    Column(
        modifier = GlanceModifier
            .fillMaxSize()
            .background(ColorProvider(day = Color.White, night = Color.Black))
    ) {
        Text(
            text = "Dynamic Colors",
            style = TextStyle(
                color = ColorProvider(
                    day = Color.Black,
                    night = Color.White
                )
            )
        )
    }
}
        </code></pre>
        <h4>8.4 å¤šå°ºå¯¸å¸ƒå±€ (Responsive Widgets)</h4>
        <pre><code>
        @Composable
fun ResponsiveWeatherWidget() {
    val size = LocalSize.current
    
    when {
        size.width &lt; 150.dp -&gt; SmallWidget()
        size.width &lt; 250.dp -&gt; MediumWidget()
        else -&gt; LargeWidget()
    }
}
        </code></pre>
        <h3 id="æ€»ç»“">æ€»ç»“</h3>
        <p>Android æ¡Œé¢å°éƒ¨ä»¶å¼€å‘çš„æ ¸å¿ƒè¦ç‚¹ï¼š</p>
        <h4>ä¼ ç»Ÿæ–¹å¼ (RemoteViews)</h4>
        <ul>
        <li>âœ… å…¼å®¹æ€§å¥½ï¼šæ”¯æŒæ‰€æœ‰ Android ç‰ˆæœ¬</li>
        <li>âœ… æ€§èƒ½ç¨³å®šï¼šç»è¿‡é•¿æœŸéªŒè¯</li>
        <li>âŒ å¼€å‘å¤æ‚ï¼šXML + RemoteViews API</li>
        <li>âŒ åŠŸèƒ½å—é™ï¼šä»…æ”¯æŒæœ‰é™çš„è§†å›¾ç±»å‹</li>
        </ul>
        <h4>ç°ä»£æ–¹å¼ (Glance)</h4>
        <ul>
        <li>âœ… å¼€å‘ç®€å•ï¼šCompose é£æ ¼ä»£ç </li>
        <li>âœ… ç±»å‹å®‰å…¨ï¼šç¼–è¯‘æ—¶æ£€æŸ¥</li>
        <li>âœ… æ˜“äºç»´æŠ¤ï¼šå£°æ˜å¼ UI</li>
        <li>âŒ éœ€è¦å­¦ä¹ æ›²çº¿ï¼šGlance ç‰¹æœ‰ API</li>
        <li>âŒ åŠŸèƒ½é™åˆ¶ï¼šåº•å±‚ä»æ˜¯ RemoteViews</li>
        </ul>
        <h4>æœ€ä½³å®è·µ</h4>
        <ul>
        <li>âœ… ä½¿ç”¨ WorkManager ç®¡ç†å®šæœŸæ›´æ–°</li>
        <li>âœ… ä½¿ç”¨ DataStore æŒä¹…åŒ–çŠ¶æ€</li>
        <li>âœ… æä¾›åŠ è½½å’Œé”™è¯¯çŠ¶æ€</li>
        <li>âœ… ä¼˜åŒ–æ›´æ–°é¢‘ç‡å’Œç½‘ç»œè¯·æ±‚</li>
        <li>âœ… é€‚é… Android 12+ æ–°ç‰¹æ€§</li>
        </ul>
        <p>---</p>
        <h3 id="æ¨èé˜…è¯»">æ¨èé˜…è¯»</h3>
        <ul>
        <li><a href="https://developer.android.com/develop/ui/views/appwidgets/overview" target="_blank">App Widgets Overview - Android Developers</a></li>
        <li><a href="https://developer.android.com/jetpack/androidx/releases/glance" target="_blank">Jetpack Glance - Android Developers</a></li>
        <li><a href="https://developer.android.com/develop/ui/views/appwidgets" target="_blank">Build an App Widget - Android Developers</a></li>
        </ul>
        </tbody></table>
        <div class="reference">
            <div class="reference-title">ğŸ“š å®˜æ–¹å‚è€ƒ</div>
            <a href="https://developer.android.com/develop/ui/views/appwidgets/overview" target="_blank">App Widgets Overview - Android Developers</a><br>
            <a href="https://developer.android.com/jetpack/androidx/releases/glance" target="_blank">Jetpack Glance - Android Developers</a><br>
            <a href="https://developer.android.com/develop/ui/views/appwidgets" target="_blank">Build an App Widget - Android Developers</a>
        </div>
    </article>

    <footer class="footer">
        <p>&copy; 2024 Fidroid. <a href="../index.html">è¿”å›é¦–é¡µ</a></p>
    </footer>
</body>
</html>
